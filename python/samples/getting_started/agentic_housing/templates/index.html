<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Deloitte Dynamics Agentic AI Housing Assistant</title>
    <link rel="stylesheet" href="/static/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app">
        <header class="app__header">
            <div class="brand">
                <img src="/static/deloitte.svg" alt="Deloitte" class="brand__logo" />
                <span class="brand__title">| Dynamics Agentic AI Housing Assistant</span>
            </div>

            <div class="header-actions">
                <div id="tokenStatus" class="token-dot" title="OAuth token not set"></div>

                <button id="resetBtn" class="icon-btn" aria-label="Reset app" title="Reset">
                    <!-- Refresh/rotate icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="23 4 23 10 17 10"></polyline>
                        <polyline points="1 20 1 14 7 14"></polyline>
                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10"></path>
                        <path d="M20.49 15a9 9 0 0 1-14.85 3.36L1 14"></path>
                    </svg>
                </button>

                <button id="settingsBtn" class="icon-btn" aria-label="Open settings" title="Settings">
                    <!-- Gear icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z" />
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c0 .66.39 1.25 1 1.51.34.15.7.23 1.09.23H21a2 2 0 0 1 0 4h-.09c-.39 0-.75.08-1.09.26-.61.26-1 .84-1 1.5Z" />
                    </svg>
                </button>
            </div>
            <div id="dvStatus" class="hint" aria-live="polite"></div>
        </header>

        <main id="chat" class="chat" aria-live="polite"></main>

        <footer class="composer">
            <!-- <div class="composer__quick">
                <button class="chip" data-text="/help">/help</button>
                <button class="chip" data-text="/next">/next</button>
                <button class="chip" data-text="/list">/list</button>
                <button class="chip" data-text="/reset">/reset</button>
            </div> -->
            <div class="composer__bar">
                <input id="msg" type="text"
                    placeholder="Type a message… e.g. I earn 110k, debts 450/mo, savings 40k; budget 800k in Brunswick" />
                <button id="send" title="Send">➤</button>
            </div>
        </footer>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal__backdrop"></div>
        <div class="modal__panel" role="document" aria-labelledby="settingsTitle">
            <div class="modal__header">
                <h2 id="settingsTitle">Settings</h2>
            </div>
            <div class="modal__body">
                <label for="oauthToken" class="modal__label">OAuth Token</label>
                <input id="oauthToken" type="password" class="modal__input" placeholder="Paste your OAuth token"
                    autocomplete="off" />
                <p class="modal__note">This token is stored locally in your browser and sent as
                    <code>Authorization: Bearer &lt;token&gt;</code> for API calls.
                </p>
            </div>
            <div class="modal__footer">
                <button id="saveToken" class="btn btn--primary">Save</button>
                <button id="cancelSettings" class="btn">Cancel</button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>

</html>